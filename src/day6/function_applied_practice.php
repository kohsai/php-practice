<?php
// 🎯 Day6 練習問題（function_applied_practice.php）

// 📝 【問題】
// ユーザーの年齢と購入金額を受け取り、以下の条件で割引を適用した最終的な支払額を計算する関数を作成してください。
// 関数を使って、複数のユーザーに対して支払額を表示してください。

// 【条件】
// ✅ 関数名は `calculateFinalPrice` とする
// ✅ 引数に「年齢（整数）」と「購入金額（整数）」を受け取る
// ✅ 年齢に応じて割引率を変える（以下のルール）
//    - 65歳以上 → 20% 割引
//    - 20歳未満 → 10% 割引
//    - その他 → 割引なし
// ✅ 割引後の金額は「購入金額 × (1 - 割引率)」で求める（小数点以下は四捨五入）
// ✅ 関数は割引後の価格を `return` する
// ✅ 呼び出し元で「年齢 ○○ 歳：支払額は ○○ 円です」と表示する（<br> を使う）
// ✅ 異なる年齢・金額で3回以上呼び出して、確認する

// 💡 複数の条件を使った関数の実装と、戻り値を利用した処理を行う練習です。

// --------------------------------------------------

// ✅ ここから下に『自分で考えた日本語の処理手順』をコメントで書いてください。

// （ここに自分で日本語の処理文を書いてください）
// 関数名は calculateFinalPrice と定義する
// 引数に「年齢（整数）」と「購入金額（整数）」を受け取る
// 年齢に応じて割引率を変える（以下のルール）
//    - 65歳以上 → 20% 割引
//    - 20歳未満 → 10% 割引
//    - その他 → 割引なし
// 割引後の金額は「購入金額 × (1 - 割引率)」で求める（小数点以下は四捨五入）
// 関数は割引後の価格を `return` する
// 呼び出し元で「年齢 ○○ 歳：支払額は ○○ 円です」と表示する（<br> を使う）
// 異なる年齢・金額で3回以上呼び出して、確認する


// ✅ その下に『自分でPHPコード』を書いてください。

// （ここに自分でPHPのコードを書いてください）
function calculateFinalPrice($age, $price)
{
    // ここに割引率の条件分岐と計算処理を記述します
    if ($age >= 65) {
        $discountRate = 0.2;
    } elseif ($age < 20) {
        $discountRate = 0.1;
    } else {
        $discountRate = 0;
    }

    // 割引後の価格を四捨五入して返す
    $finalPrice = round($price * (1 - $discountRate));
    return $finalPrice;
}

echo "年齢 70 歳：支払額は " . calculateFinalPrice(70, 3000) . " 円です<br>";
echo "年齢 15 歳：支払額は " . calculateFinalPrice(15, 2500) . " 円です<br>";
echo "年齢 30 歳：支払額は " . calculateFinalPrice(30, 4000) . " 円です<br>";
