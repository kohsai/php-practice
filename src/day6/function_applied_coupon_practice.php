<?php
// 🎯 Day6 練習問題（function_applied_coupon_practice.php）

// 📝 【問題】
// ユーザーの年齢とクーポンコードを受け取り、割引金額を決定する関数を作成してください。
// 以下のルールに基づいて、最終的な割引額を画面に表示しましょう。

// 【ルール】
// ✅ 年齢が「60歳以上」の場合 → 300円割引
// ✅ 年齢が「20歳未満」の場合 → 200円割引
// ✅ それ以外の場合 → 割引なし（0円）
// 🔸 さらに、クーポンコードが「SPECIAL」の場合は追加で100円割引
// 🔸 割引額は合算する（最大400円）
// ✅ 最終的な割引金額を画面に「割引額は ○○ 円です」と表示する（<br> 使用）
// ✅ 関数名は `calculateCouponDiscount` とする

// 【ヒント】
// 💡 年齢による割引と、クーポンによる追加割引をそれぞれ判定し、合計を求めましょう
// 💡 文字列の比較には `===` を使います
// 💡 「SPECIAL」のチェックは大文字で固定（入力ミスは考慮しなくてOK）

// --------------------------------------------------
// ✅ ここから下に『自分で考えた日本語の処理手順』をコメントで書いてください。
// （ここに自分で日本語の処理文を書いてください）
// 日本語の処理文のヒント

// 割引金額を入れるための変数を用意し、最初は「0円」としておく
// 年齢に応じた割引を判定する
// - 60歳以上なら → 300円を割引額に加える
// - 20歳未満なら → 200円を割引額に加える
// - それ以外の場合は何も加えない

// クーポンコードが「SPECIAL」かどうかを確認する
// - 一致していれば → さらに100円を割引額に加える

// 最終的な割引金額を画面に「割引額は ○○ 円です」と表示する

// --------------------------------------------------
// ✅ その下に『自分でPHPコード』を書いてください。
// （ここに自分でPHPコードを書いてください）

// しかし・・・・・
// 一応取り組んでみたが、日本語の処理文のヒントを基に、PHPコードでどのような変数などを使って記述するか、で手が止まり、助けてもらう。
// 自分ではまだ解けなかった。
            // ↓

// 関数の定義。年齢とクーポンコードを受け取る
function calculateCouponDiscount($age, $couponCode)
{

    // 割引金額を入れる変数を、0円でスタートさせる
    $discount = 0;

// ✅ Step 1：年齢による割引処理を追加
// まずは、年齢の条件に応じて $discount に金額を加算する部分です。

        // 年齢が60歳以上の場合は、300円割引
        if ($age >= 60) {
            $discount += 300;
        }
        // 年齢が20歳未満の場合は、200円割引
        elseif ($age < 20) {
            $discount += 200;
        }
// 🧠 補足：
// $discount += 300; は、現在の $discount に「300」を加えるという意味です。
// if → elseif と書くことで「60歳以上かどうかをまず判定し、それ以外なら20歳未満かどうかを判定する」という流れになります。


// ✅ Step 2：クーポンコードによる追加割引
// クーポンコードが「SPECIAL」と一致する場合は、100円割引
    if ($couponCode === "SPECIAL") {
        $discount += 100;
    }
// 🧠 補足：
// 文字列の比較は === を使うと型も含めて厳密に一致するかどうかを判定できます。

// "SPECIAL" という文字列は問題文で固定されているので、比較対象はこのままでOKです。


// ✅ Step 3：最終的な表示処理

// 割引金額を表示する（<br>で改行）
    echo "割引額は {$discount} 円です<br>";

    // 🧠 補足：
// {$discount} は、文字列の中で変数の中身を表示する書き方です。
}

// ✅ Step 4：関数の呼び出し（関数の外）
// ファイルの末尾で、関数をいくつか呼び出して動作確認してみましょう。

// 関数の呼び出し例
calculateCouponDiscount(65, "SPECIAL");   // → 300 + 100 = 400円
calculateCouponDiscount(15, "NONE");      // → 200円
calculateCouponDiscount(30, "SPECIAL");   // → 100円
calculateCouponDiscount(40, "NONE");      // → 0円
