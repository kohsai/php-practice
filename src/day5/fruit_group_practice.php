<?php
// 🎯 Day5 練習問題（fruit_group_practice.php）
//
// 📝 【問題】
// 以下のユーザー情報から、「好きな果物ごとに何人いるか」を数えて表示してください。
//
// 【条件】
// ✅ 変数 `$users` に、複数人の「名前」と「好きな果物」を持つ配列を用意してあります

// ✅ 好きな果物ごとに人数をカウントする（「りんごが好きな人は2人」のように）
// ✅ 出力形式：「◯◯が好きな人は◯人です。」（各行ごとに `<br>` で改行）
// ✅ 必要に応じて連想配列などを使って記録・集計する
//
// 【ヒント】
// 💡 `isset()` でその果物がすでに登録されているかを確認
// 💡 初めてなら「1」、すでにあるなら「+1」
// 💡 最後に foreach で集計結果を表示
//

// 初期データ（変更不要）
$users = [
    ["name" => "さくら", "fruit" => "りんご"],
    ["name" => "たけし", "fruit" => "バナナ"],
    ["name" => "ゆうこ", "fruit" => "りんご"],
    ["name" => "けん", "fruit" => "みかん"],
    ["name" => "あい", "fruit" => "バナナ"],
    ["name" => "まさし", "fruit" => "ぶどう"]
];


// ✅ ここから下に『自分で考えた日本語の処理手順』をコメントで書いてください。
// （ここに自分で日本語の処理文を書いてください）

// ユーザー情報の配列を用意（名前と好きな果物）（ ← これは「初期データ」として準備済み）
// 好きなフルーツごとの人数を記録する連想配列を用意（事前に作っておく）

// 出力形式：「◯◯が好きな人は◯人です。」（各行ごとに `<br>` で改行）
// 連想配列などを使って記録・集計する



// ✅ その下に『自分でPHPコード』を書いてください。
// （ここに自分でPHPコードを書いてください）

// 連想配列を事前に作成
$fruit_counts = [];

// ユーザーごとに処理
foreach ($users as $user) {
    $fruit = $user["fruit"];

// 💡 `isset()` でその果物がすでに登録されているかを確認
// 💡 初めてなら「1」、すでにあるなら「+1」
    if (isset($fruit_counts [$fruit])) {
        $fruit_counts[$fruit]++;
    } else {
        $fruit_counts[$fruit] = 1;
    }
}
    // 💡 最後に foreach で集計結果を表示
    foreach ($fruit_counts as $fruit => $count) {
        echo "{$fruit}が好きな人は{$count}人です。<br>";
    }


// 採点と補足

// 自分の書いた処理手順
//     ↓
// ユーザー情報の配列を用意（名前と好きな果物）（ ← これは「初期データ」として準備済み）
// 好きなフルーツごとの人数を記録する連想配列を用意（事前に作っておく）

// 出力形式：「◯◯が好きな人は◯人です。」（各行ごとに `<br>` で改行）
// 連想配列などを使って記録・集計する


// ・・・ですが、
// できれば次のようにステップの分解をもう少し細かくすると、今後の理解力強化に繋がります。

// 🧠 模範・例（処理手順）

// ⓵ 空の連想配列 `$fruit_counts` を作って、果物ごとの人数を記録する準備をする
// ⓶ `$users` 配列を foreach で1人ずつ処理する
// ⓷ その人の「好きな果物」を `$fruit` に取り出す
// ⓸ `$fruit` がすでに `$fruit_counts` に存在するか調べる（isset）
// → すでにあれば +1、なければ 1 をセット
// ➄ 最後に `$fruit_counts` を foreach で取り出して、
// 「◯◯が好きな人は◯人です」と表示する（<br>で改行）

// このように明確にすると、今後さらに応用がしやすくなります。
